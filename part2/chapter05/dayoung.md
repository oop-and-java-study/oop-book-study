### **Chapter 5. SOLID μ›μΉ™**

#### **SOLID μ›μΉ™**
+ λ‹¨μΌ μ±…μ„ μ›μΉ™ (SRP: Single responsibility principle)
+ κ°λ°©-νμ‡„ μ›μΉ™ (OCP: Open-closed principle)
+ λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (LSP: Liskov substitution principle)
+ μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (ISP: Interface segregation principle)
+ μμ΅΄ μ—­μ „ μ›μΉ™ (DIP: Dependency inversion principle)

<br>

---

#### **1. λ‹¨μΌ μ±…μ„ μ›μΉ™**
**"ν΄λμ¤λ” λ‹¨ ν• κ°μ μ±…μ„μ„ κ°–λ”λ‹¤."** 
λ‹¨μΌ μ±…μ„ μ›μΉ™ μ¤€μ μ λ¬΄λ¥Ό νλ‹¨ν•λ” κ°€μ¥ ν° μ²™λ„λ”, 'κΈ°λ¥ λ³€κ²½μ΄ μƒκ²Όμ„ λ•μ νκΈ‰ ν¨κ³Όκ°€ μ μ€κ°€' μ΄λ‹¤. ν•λ‚μ κ°μ²΄μ—μ„ λ‹¤μ–‘ν• κΈ°λ¥(μ±…μ„)μ„ κ°–κ² λλ©΄ λ¶ν•„μ”ν• μμ΅΄κ΄€κ³„κ°€ ν•μ„±λλ‹¤.

> !Tip
>
> λ” μ™€λ‹ΏκΈ° μ‰½κ² μλ¥Ό λ“¤μλ©΄, μ²­μ†κΈ° ν΄λμ¤λ” μ²­μ† λ©”μ†λ“λ§ μ κµ¬ν„ν•λ©΄ λμ§€ ν™”λ¶„μ— λ¬Όμ„ μ£Όκ³  λ“λΌμ΄ κΉμ§€ ν•  μ±…μ„μ€ μ—†λ‹¤.
> 
> λ¬Όλ΅  λ‹¤μ¬λ‹¤λ¥ν• μ²­μ†κΈ°λ” μΆ‹μ•„λ³΄μ΄μ§€λ§, λ§μΌ μ²­μ†κΈ°κ°€ κ³ μ¥λ‚λ©΄ λ‹¤λ¥Έ κΈ°λ¥κΉμ§€λ„ μ‚¬μ©μ„ λ»ν•΄μ§€κΈ° λ•λ¬Έμ΄λ‹¤.
> μ¦‰, μ²­μ†κΈ°λ” μ²­μ†λ§ μν•λ©΄ λλ‹¤λ” μ±…μ„λ§ κ°€μ§€λ©΄ λλ‹¤. μ‰½κ² λ§ν•΄ ν•λ‚μ ν΄λμ¤λ΅ λ„λ¬΄ λ§μ€ μΌμ„ ν•μ§€ λ§κ³  λ”± ν• κ°€μ§€ μ±…μ„λ§ μν–‰ν•λΌλ” λ»μ΄λ‹¤.
>
> _μ¶μ²: https://inpa.tistory.com/entry/OOP-π’ -μ•„μ£Ό-μ‰½κ²-μ΄ν•΄ν•λ”-SRP-λ‹¨μΌ-μ±…μ„-μ›μΉ™ [Inpa Dev π‘¨β€π’»:ν‹°μ¤ν† λ¦¬]_

<br>

μμ 

+ λ‹¨μΌ μ±…μ„ μ›μΉ™μ΄ μ„λ°°λ κµ¬ν„
    ```java
    public class DataViewer{
        public void display() {
            // λ°μ΄ν„°λ¥Ό λ¬Έμμ—΄λ΅ μ½μ–΄μ™€μ„
            String data = loadHtml();
            // GUIλ¥Ό κ°±μ‹ ν•λ‹¤
            updateGui(data);
        }

        public String loadHtml(){
            HttpClient client = new HttpClient();
            client.connect(url);
            return client.getResponse();
        }

        private void updateGui(String data){
            GuiData guiModel = parseDataToGuiData(data);
            tableUI.changeData(guiModel);
        }
        private GuiData parseDataToGuiData(String data) {
            // νμ‹± μ²λ¦¬ μ½”λ“
        }
    }
    ```

    `DataViewer` ν΄λμ¤λ” 'λ°μ΄ν„°λ¥Ό μ½μ–΄μ¤κΈ°'μ™€ 'GUIλ°μ΄ν„°λ΅ νμ‹±ν•μ—¬ λ°μ΄ν„°λ¥Ό λ³€κ²½'μ΄λΌλ” λ‘ κ°€μ§€ μ±…μ„μ„ κ°–λ”λ‹¤. μ΄ λ•, μ κ³µλλ” λ°μ΄ν„°κ°€ HTMLμ΄ μ•„λ‹λΌ SocketμΌλ΅ λ°›μ•„μ¤λ” λ°©μ‹μΌλ΅ λ³€κ²½λλ‹¤λ©΄, `display()` λ©”μ†λ“ λΏλ§ μ•„λ‹λΌ `updateGui(String data)` λ©”μ†λ“κ°€ λ°›λ” νλΌλ―Έν„° νƒ€μ… μ—­μ‹ λ³€κ²½λμ–΄μ•Ό ν•λ‹¤. λ°μ΄ν„° μ½κΈ°μ κΈ°λ¥(μ±…μ„)μ΄ λ³€κ²½λλ”λ°, GUI λ°μ΄ν„°λ΅ λ³΄μ—¬μ£Όλ” κΈ°λ¥κΉμ§€ λ³€κ²½λλ” λ¶μƒμ‚¬κ°€ μΌμ–΄λ‚λ‹¤.

+ λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ§€ν‚¨ κµ¬ν„
    ```java
    // μ–΄λ–¤ μλ‹¨μΌλ΅ μ¤λ“  ν‘κΈ°ν•΄μ•Όν•λ” λ°μ΄ν„°λ΅ λ³€ν™ν•λ„λ΅ μ¶”μƒν™”
    public interface DataLoader {
        Data load();
    }

    public class DataViewer{
        public void display() {
            // λ°μ΄ν„°λ¥Ό μ–΄λ–»κ² λ°›μ•„μ¤λ“  DataViewerλ” λ³€κ²½μ΄ μ—†μ
            Data data = dataLoader.load();
            updateGui(data);
        }

        private void updateGui(Data data){
            GuiData guiModel = parseDataToGuiData(data);
            tableUI.changeData(guiModel);
        }
    }
    ```

    μ„ μ½”λ“μ—μ„ λ” λ‚μ•„κ°€μ„, Viewer ν™κ²½μ΄ λ³€κ²½λλ” κ²ƒκΉμ§€ κ³ λ ¤ν•μ—¬ `DataViewer`λ¥Ό μ¶”μƒν™”ν•μ—¬ ν™κ²½μ— λ”°λ¥Έ `display()` λ¥Ό κµ¬ν„ν•λ„λ΅ ν•  μ μλ‹¤.


<br>

---
#### **2. κ°λ°© νμ‡„ μ›μΉ™**

**"ν™•μ¥μ—λ” μ—΄λ ¤ μμ–΄μ•Ό ν•κ³ , λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤."** ν’€μ–΄μ„ μ΄μ•ΌκΈ°ν•λ©΄, κΈ°μ΅΄ μ½”λ“λ¥Ό μμ •ν•μ§€ μ•μΌλ©΄μ„ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μλ„λ΅ μ„¤κ³„ν•΄μ•Όν•λ‹¤λ” μλ―Έμ΄λ‹¤. κ°λ°© νμ‡„ μ›μΉ™μ€ μ μ—°ν•¨κ³Ό κ΄€λ ¨λ μ›μΉ™μ΄λ©°, μ§€μΌμ§€μ§€ μ•λ”λ‹¤λ” κ²ƒμ€ λ³€ν™”λλ” λ¶€λ¶„μ— λ€ν• μ¶”μƒν™”κ°€ μ¶©λ¶„ν•κ² μ΄λ¤„μ§€μ§€ μ•μ•λ‹¤λ” κ²ƒμ΄λ‹¤.

κ°λ°© νμ‡„ μ›μΉ™μ„ μ–΄κΈ°λ” μ½”λ“μ μ „ν•μ μΈ νΉμ§•μ€ "λ‹¤μ΄ μΊμ¤ν…"μ„ ν•κ±°λ‚ λΉ„μ·ν• if-elseλ¬Έμ΄ λ°λ³µλλ” κ²½μ°μ΄λ‹¤. 

```java
public void drawCharacter(Character character) {
    if(character instanceof Missile) {
        Missile missile = (Missile) character;
        mssile.drawSpecific();
    } else {
        character.draw();   
    }
}
```

μ„μ™€ κ°™μ€ κ²½μ°, `Missile`μΈ κ²½μ° λ³„λ„ μ²λ¦¬λ¥Ό ν•΄μ£Όλ” κ²ƒμ΄ μ•„λ‹λΌ `drawSpecific()`μ„ μ•λ§κ² μ¶”μƒν™”ν•μ—¬ λ¨λ“  Character νƒ€μ…μ— μ¶”κ°€ν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

<br>

---
#### **3. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™**

λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ€ "**μƒμ†κ³Ό λ‹¤ν•μ„±μ— κ΄€λ ¨ν•μ—¬ κ³„μ•½κ³Ό ν™•μ¥μ— λ€ν• κ·μΉ™**"μ΄λ‹¤. μƒμ„ νƒ€μ…μ„ μ‚¬μ©ν•λ” κ°μ²΄ μ…μ¥μ—μ„ ν•μ„ νƒ€μ…μΌλ΅ λ³€κ²½μ΄ μλ‹¤ν•λ”λΌλ„ κΈ°λ¥μ΄ μ΄μ „κ³Ό λ™μΌν•κ² μ‘λ™ν•΄μ•Ό ν•λ‹¤. μ¦‰, λ¶€λ¨μ™€ μμ‹ ν΄λμ¤ μ‚¬μ΄μ— ν–‰μ„μ μΌκ΄€μ„±μ΄ μμ–΄μ•Ό ν•λ‹¤λ” λ»μ΄λ‹¤. λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™μ„ μ„λ°ν•κ² λλ©΄, λ‹¤ν•μ„±μ΄ κΉ¨μ§€κ² λμ–΄ κ°λ°© νμ‡„ μ›μΉ™λ„ μ§€ν‚¬ μ μ—†κ² λλ‹¤.


μμ 
```java
public class Cupon {
    private double discountRate;
    public int calcDiscAmt(Item item){
        if(item instanceof SpecialItem){  // κ°λ°© νμ‡„ μ›μΉ™ μ„λ°°
            return 0;
        }
        return item.getPrice() * discountRate;
    }
}
```
κ°μ„  μ½”λ“
```java
public class Item {
    public boolean canDiscount() { return true; }
}

public class SpecialItem extends Item {
    @Override
    public boolean canDiscount() { return false; }
}

public class Cupon {
    private double discountRate;
    public int calcDiscAmt(Item item){
        if(!item.canDiscount()){
            return 0;
        }
        return item.getPrice() * discountRate;
    }
}
```

μ¶”κ°€ μ°Έκ³  μλ£ μ¶”μ²
+ [μΈνλ‹μ λΈ”λ΅κ·Έ](https://inpa.tistory.com/entry/OOP-%F0%9F%92%A0-%EC%95%84%EC%A3%BC-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-LSP-%EB%A6%AC%EC%8A%A4%EC%BD%94%ED%94%84-%EC%B9%98%ED%99%98-%EC%9B%90%EC%B9%99)

<br>

---
#### **4. μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™**

**"μΈν„°νμ΄μ¤λ” κ·Έ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό κΈ°μ¤€μΌλ΅ λ¶„λ¦¬ν•΄μ•Ό ν•λ‹¤."** μ¦‰, μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™μ΄λ€ μΈν„°νμ΄μ¤λ¥Ό μκ² λ¶„λ¦¬ν•¨μΌλ΅μ¨,Β ν΄λΌμ΄μ–ΈνΈμ λ©μ κ³Ό μ©λ„μ— μ ν•©ν• μΈν„°νμ΄μ¤ λ§μ„ μ κ³µν•λ” κ²ƒμ΄λ‹¤. λ²”μ„κ°€ ν¬κ² λ¶„λ¦¬λ μΈν„°νμ΄μ¤μ κ²½μ°, ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό μƒμ†λ°›λ” ν΄λμ¤μ—μ„λ” μ‚¬μ©ν•μ§€ μ•λ” κΈ°λ¥μ„μ—λ„ λ¶ν•„μ”ν•κ² κµ¬ν„ν•΄μ•Όν•λ” κ²½μ°κ°€ μƒκΈ΄λ‹¤.

μ£Όμν•΄μ•Ό ν•  μ μ€ ν•λ² μΈν„°νμ΄μ¤λ¥Ό λ¶„λ¦¬ν•μ—¬ κµ¬μ„±ν•΄λ†“κ³  λ‹¤μ‹ ν• λ² μΈν„°νμ΄μ¤λ“¤μ„ λ¶„λ¦¬ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤. μ΄λ―Έ κµ¬ν„λμ–΄ μλ” ν”„λ΅μ νΈμ— λ μΈν„°νμ΄μ¤λ“¤μ„ λ¶„λ¦¬ν•λ‹¤λ©΄, μ΄λ―Έ κµ¬ν„λ ν”„λ΅κ·Έλ¨μ—μ„ λ¶„λ¦¬μ— μν• μν–¥λ„κ°€ ν¬κ³  λ¬Έμ κ°€ λ°μƒν•  ν™•λ¥ μ΄ λ†’κΈ° λ•λ¬Έμ΄λ‹¤.


> Tip!
> 
> μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™μ€ λ§μΉ λ‹¨μΌ μ±…μ„ μ›μΉ™κ³Ό λΉ„μ·ν•κ² λ³΄μ΄λ”λ°, SRP μ›μΉ™μ΄ ν΄λμ¤μ λ‹¨μΌ μ±…μ„μ„ κ°•μ΅°ν•λ‹¤λ©΄, ISPλ” **μΈν„°νμ΄μ¤μ λ‹¨μΌ μ±…μ„**μ„ κ°•μ΅°ν•λ‹¤κ³  λ§ν•  μ μλ‹¤. 
> 
>λ‹¤λ§ μ μν•  μ μ€ μΈν„°νμ΄μ¤λ” ν΄λμ¤μ™€ λ‹¤λ¥΄κ² μ¶”μƒν™”μ΄κΈ° λ•λ¬Έμ— μ—¬λ¬κ°μ μ—­ν• μ„ κ°€μ§€λ”λ° μμ–΄ μ μ•½μ΄ μ—†κΈ΄ ν•λ‹¤.
μ¦‰, SRP μ›μΉ™μ λ©ν‘λ” ν΄λμ¤ λ¶„λ¦¬λ¥Ό ν†µν•μ—¬ μ΄λ£¨μ–΄μ§„λ‹¤λ©΄, ISP μ›μΉ™μ€ μΈν„°νμ΄μ¤ λ¶„λ¦¬λ¥Ό ν†µν•μ—¬ μ΄λ£¨μ–΄ μ§„λ‹¤κ³  λ³Ό μ μλ‹¤.
>
>λν• SRP μ›μΉ™μ ν΄λμ¤ μ±…μ„μ λ²”μ„μ— λ€ν•΄ λ¶„λ¦¬ κΈ°μ¤€μ΄ λ‹¤λ¥΄λ“―μ΄, μΈν„°νμ΄μ¤λ¥Ό λ¶„λ¦¬ν•λ”Β κΈ°μ¤€μ€ μƒν™©μ— λ”°λΌ λ‹¤λ¥΄λ‹¤.
ν•µμ‹¬μ€Β κ΄€λ ¨ μλ” **κΈ°λ¥λΌλ¦¬Β ν•λ‚μ μΈν„°νμ΄μ¤μ— λ¨μΌλ μ§€λ‚μΉκ² μ»¤μ§€μ§€ μ•λ„λ΅ ν¬κΈ°λ¥Ό μ ν•**ν•λΌλ” μ μ΄λ‹¤.
>
> _μ¶μ²: https://inpa.tistory.com/entry/OOP-π’ -μ•„μ£Ό-μ‰½κ²-μ΄ν•΄ν•λ”-ISP-μΈν„°νμ΄μ¤-λ¶„λ¦¬-μ›μΉ™ [Inpa Dev π‘¨β€π’»:ν‹°μ¤ν† λ¦¬]_

<br>

---
#### **5. μμ΅΄ μ—­μ „ μ›μΉ™**

**"κ³ μμ¤€ λ¨λ“μ€ μ €μμ¤€ λ¨λ“μ κµ¬ν„μ— μμ΅΄ν•΄μ„λ” μ•λλ‹¤."** μ΄λ” μμ‹ λ³΄λ‹¤ λ³€ν•κΈ° μ‰¬μ΄ κ²ƒμ— μμ΅΄ν•λ κ²ƒμ„ μ¶”μƒν™”λ μΈν„°νμ΄μ¤λ‚ μƒμ„ ν΄λμ¤λ¥Ό λ‘μ–΄ λ³€ν•κΈ° μ‰¬μ΄ κ²ƒμ λ³€ν™”μ— μν–¥λ°›μ§€ μ•κ² ν•κΈ° μ„ν•¨μ΄λ‹¤.  μƒμ„ν΄λμ¤, μΈν„°νμ΄μ¤, μ¶”μƒν΄λμ¤μ™€ κ°™μ€ κ³ μμ¤€ λ¨λ“μΌμλ΅ λ³€ν•μ§€ μ•μ„ κ°€λ¥μ„±μ΄ ν¬κΈ° λ•λ¬Έμ— λ³€ν™”κ°€ λ§μ€ μ €μμ¤€ λ¨λ“(ν•μ„ν΄λμ¤, κµ¬ν„μ²΄)μ„ μ§μ ‘ μμ΅΄ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤.

μμ 
+ μ„μ΅΄ μ—­μ „ μ›μΉ™ μ„λ°ν• κµ¬ν„
  ```java
  public interface Airline {
    String getAir2Code();
  }
  public class KoreanAir implements Airline {}
  public class Asiana implements Airline {}

  public class Flight{
    KoreanAir airline; // μ €μμ¤€λ¨λ“
    
    public Airline getAirline() { return airline; }
    public String getFlightNumber() { }
  }
  ```
  μ΄λ ‡κ² κµ¬ν„ν•  μΌμ€ μ—†κ² μ§€λ§, ν•­κ³µνΈ ν΄λμ¤μ— ν•­κ³µμ‚¬μ νƒ€μ…μ„ λ€ν•ν•­κ³µμ΄λΌλ” μ €μμ¤€ λ¨λ“μ„ μμ΅΄ν•κ² ν•΄λ‘λ©΄, ν•­κ³µνΈμ ν•­κ³µμ‚¬κ°€ λ³€ν•  λ• λ§λ‹¤ Fight ν΄λμ¤λ” λ³€κ²½μ΄ μΌμ–΄λ‚κ² λλ‹¤.